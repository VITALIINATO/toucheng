<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест на распознавание звуков</title>
    <style>
        /* Основные стили */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            padding: 10px;
            background: linear-gradient(180deg, #e0f7fa, #fcb3f6);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #333;
            transition: background 0.5s ease;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            animation: fadeInContainer 1s ease-in-out;
        }

        @keyframes fadeInContainer {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .sound {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .transcription-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 15px;
            text-align: center;
            width: 180px;
            height: 80px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #b3e5fc, #81d4fa);
            color: #0277bd;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .transcription-button:hover {
            background: linear-gradient(135deg, #4fc3f7, #29b6f6);
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .examples-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .example-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .example-image {
            width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .example-image:hover {
            transform: scale(1.05);
        }

        .example-button {
            width: 100%;
            padding: 15px;
            font-size: 1rem;
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border: none;
            border-radius: 10px;
            color: #1b5e20;
            cursor: pointer;
            text-align: center;
            transition: background 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .example-button:hover {
            background: linear-gradient(135deg, #81c784, #66bb6a);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .example-button.selected {
            background: linear-gradient(135deg, #90caf9, #64b5f6);
            color: #fff;
        }

        .nav-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        .nav-buttons button {
            width: 100%;
            padding: 10px 20px;
            font-size: 1rem;
            background: linear-gradient(135deg, #b2d6ff, #80d0ff);
            color: #8d6e63;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .nav-buttons button:hover {
            background: linear-gradient(135deg, #4d94ff, #264eff);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        /* Стиль для итогового результата */
        /* Стиль для итогового результата */
        .final-result {
            font-size: 2.5em;
            /* Увеличиваем размер шрифта */
            font-weight: bold;
            text-align: center;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            display: inline-block;

            /* Градиентный цвет текста */
            background: linear-gradient(90deg, #1f1d1d, #1b1a17, #080808);
            -webkit-background-clip: text;
            /* Для WebKit-браузеров */
            background-clip: text;
            /* Без префикса для Firefox */
            -webkit-text-fill-color: transparent;
            /* Прозрачный текст */

            /* Анимация появления */
            animation: fadeInAndScale 1.5s ease-out;

            /* Тень для текста */
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);

            /* Дополнительные декоративные элементы */
            border-radius: 10px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        /* Контейнер для дополнительных эффектов */
        .final-result::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, #ff6f61, #ffca58, #1b5e20);
            z-index: -1;
            border-radius: 15px;
            filter: blur(10px);
            opacity: 0.7;
        }

        /* Анимация пульсации вокруг текста */
        .final-result::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            border-radius: 50%;
            animation: pulse 2s infinite ease-out;
            z-index: -2;
        }

        /* Анимация появления и увеличения */
        @keyframes fadeInAndScale {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Анимация пульсации */
        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.2;
            }

            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }
        }

        /* Анимация появления

        /* Стиль для контейнера промежуточного результата */
        .result {
            font-size: 1.5em;
            /* Размер текста */
            font-weight: bold;
            /* Жирный шрифт */
            text-align: center;
            /* Выравнивание текста по центру */
            margin: 20px auto;
            /* Отступы сверху и снизу, авто для горизонтального центрирования */
            padding: 15px;
            /* Внутренние отступы */
            border-radius: 10px;
            /* Закругление углов */
            color: #fff;
            /* Цвет текста */
            background: linear-gradient(135deg, #4caf50, #388e3c);
            /* Градиент для успешного результата */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            /* Тень для объема */
            max-width: 600px;
            /* Максимальная ширина */
            display: none;
            /* По умолчанию скрыт */
            transition: all 0.3s ease;
            /* Плавные переходы */
        }

        /* Стиль для успешного результата */
        .result.success {
            background: linear-gradient(135deg, #4caf50, #388e3c);
            /* Зеленый градиент */
        }

        /* Стиль для ошибки */
        .result.error {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            /* Красный градиент */
        }

        /* Стиль для ошибки */
        .task-number {
            font-size: 1em;
            font-weight: bold;
            text-align: center;
            color: #1b5e20;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <div class="container" id="testContainer">
        <div class="sound">
            <div class="task-number" id="taskNumber">Задание 1</div>
            <button class="transcription-button" id="currentSoundButton">
                <span class="transcription-label">звук</span>
                <span class="transcription-symbol" id="currentSoundSymbol"></span>
            </button>
            <div id="instruction">Выбери 2 слова содержащих данный звук</div>
        </div>
        <div class="examples-container" id="testExamples"></div>
        <div class="nav-buttons">
            <button id="confirmButton" disabled>Подтвердить</button>
        </div>
        <div class="result" id="testResult"></div>
    </div>
    <div class="final-result" id="finalResult" style="display: none;"></div>
    <audio id="audioPlayer"></audio>

    <script>
        // Уникальные звуки без дубликатов
        const sounds = [
            {
                transcriptionButton: "[ʃ]", // Транскрипция
                correctExamples: [
                    { word: "shop", transcription: "[ʃɒp]", translation: "магазин", image: "shop.jpg" },
                    { word: "she", transcription: "[ʃiː]", translation: "она", image: "she.jpg" },
                    { word: "fish", transcription: "[fɪʃ]", translation: "рыба", image: "fish.jpg" }
                ],
                incorrectExamples: [
                    { word: "child", transcription: "[tʃaɪld]", translation: "ребенок", image: "child.jpg" },
                    { word: "bench", transcription: "[bentʃ]", translation: "лавочка", image: "bench.jpg" },
                    { word: "cherry", transcription: "[ˈtʃeri]", translation: "вишня", image: "cherry.jpg" },
                    { word: "sand", transcription: "[sænd]", translation: "песок", image: "sand.jpg" },
                    { word: "sun", transcription: "[sʌn]", translation: "солнце", image: "sun.jpg" },
                    { word: "smile", transcription: "['smaɪl]", translation: "улыбка", image: "smile.jpg" },
                ]
            },
            {
                transcriptionButton: "[tʃ]", // Транскрипция
                correctExamples: [
                    { word: "child", transcription: "[tʃaɪld]", translation: "ребенок", image: "child.jpg" },
                    { word: "bench", transcription: "[bentʃ]", translation: "лавочка", image: "bench.jpg" },
                    { word: "cherry", transcription: "[ˈtʃeri]", translation: "вишня", image: "cherry.jpg" }
                ],
                incorrectExamples: [
                    { word: "shop", transcription: "[ʃɒp]", translation: "магазин", image: "shop.jpg" },
                    { word: "she", transcription: "[ʃiː]", translation: "она", image: "she.jpg" },
                    { word: "fish", transcription: "[fɪʃ]", translation: "рыба", image: "fish.jpg" },
                    { word: "mice", transcription: "[maɪs]", translation: "мыши", image: "mice.jpg" },
                    { word: "face", transcription: "['feɪs]", translation: "лицо", image: "face2.jpg" },
                ]
            },
            {
                transcriptionButton: "[ð]", // Транскрипция
                correctExamples: [
                    { word: "this", transcription: "[ðɪs]", translation: "это", image: "this.jpg" },
                    { word: "that", transcription: "[ðæ]", translation: "то", image: "that.jpg" },
                    { word: "they", transcription: "[ðeɪ]", translation: "они", image: "they.jpg" }],
                incorrectExamples: [
                    { word: "thin", transcription: "[θɪn]", translation: "тонкий", image: "thin.jpg" },
                    { word: "moth", transcription: "[mɒθ]", translation: "мотылек", image: "moth.jpg" },
                    { word: "smith", transcription: "[smɪθ]", translation: "кузнец", image: "smith.jpg" },
                    { word: "blaze", transcription: "[bleɪz]", translation: "блеск", image: "blaze.jpg" },
                    { word: "zip", transcription: "[zɪp]", translation: "застежка", image: "zip.jpg" },
                    { word: "zone", transcription: "[zoun]", translation: "зона", image: "zone.jpg" },
                ]
            },
            {
                transcriptionButton: "[θ]", // Транскрипция
                correctExamples: [
                    { word: "thin", transcription: "[θɪn]", translation: "тонкий", image: "thin.jpg" },
                    { word: "moth", transcription: "[mɒθ]", translation: "мотылек", image: "moth.jpg" },
                    { word: "smith", transcription: "[smɪθ]", translation: "кузнец", image: "smith.jpg" }
                ],
                incorrectExamples: [
                    { word: "this", transcription: "[ðɪs]", translation: "это", image: "this.jpg" },
                    { word: "that", transcription: "[ðæ]", translation: "то", image: "that.jpg" },
                    { word: "they", transcription: "[ðeɪ]", translation: "они", image: "they.jpg" },
                    { word: "cell", transcription: "[sel]", translation: "сот", image: "cell.jpg" },
                    { word: "smile", transcription: "['smaɪl]", translation: "улыбка", image: "smile.jpg" },
                    { word: "mice", transcription: "[maɪs]", translation: "мыши", image: "mice.jpg" },
                ],
            },

            // Добавьте остальные звуки аналогично...

            {
                transcriptionButton: "[f]", // Транскрипция
                correctExamples: [
                    { word: "photo", transcription: "[foʊtoʊ]", translation: "фото", image: "photo.jpg" },
                    { word: "alphabet", transcription: "[ælfəbet]", translation: "алфавит", image: "alphabet.jpg" },
                    { word: "phone", transcription: "[foʊn]", translation: "телефон", image: "phone.jpg" }
                ],
                incorrectExamples: [
                    { word: "pen", transcription: "[pen]", translation: "ручка", image: "pen.jpg" },
                    { word: "pet", transcription: "[pet]", translation: "питомец", image: "pet.jpg" },
                    { word: "plate", transcription: "['pleɪt]", translation: "тарелка", image: "plate.jpg" },
                    { word: "hand", transcription: "[hænd]", translation: "рука", image: "hand.jpg" },
                    { word: "home", transcription: "[houm]", translation: "дом", image: "home.jpg" },
                    { word: "hat", transcription: "[hæt]", translation: "шапка", image: "hat.jpg" }
                ],
            },

            {
                transcriptionButton: "[ŋ]", // Транскрипция
                correctExamples: [
                    { word: "ring", transcription: "[rɪŋ]", translation: "кольцо", image: "ring.jpg" },
                    { word: "king", transcription: "[kɪŋ]", translation: "король", image: "king.jpg" },
                    { word: "baking", transcription: "[beɪkɪŋ]", translation: "выпечка", image: "baking.jpg" }
                ],
                incorrectExamples: [
                    { word: "name", transcription: "[neɪm]", translation: "имя", image: "name.jpg" },
                    { word: "nest", transcription: "[nest]", translation: "гнездо", image: "nest.jpg" },
                    { word: "nine", transcription: "[naɪn]", translation: "девять", image: "nine.jpg" },
                    { word: "van", transcription: "[væn]", translation: "вагон", image: "van.jpg" },
                    { word: "phone", transcription: "[foʊn]", translation: "телефон", image: "phone.jpg" },
                    { word: "thin", transcription: "[θɪn]", translation: "тонкий", image: "thin.jpg" },

                ],
            },

            {
                transcriptionButton: "[ʒ]", // Транскрипция
                correctExamples: [
                    { word: "vision", transcription: "[vɪʒn]", translation: "зрение", image: "vision.jpg" },
                    { word: "collision", transcription: "[kɒlɪʒn]", translation: "стролкновение", image: "collision.jpg" },
                    { word: "division", transcription: "[dɪvɪʒn]", translation: "подразделение", image: "division.jpg" }
                ],
                incorrectExamples: [
                    { word: "zip", transcription: "[zɪp]", translation: "застежка", image: "zip.jpg" },
                    { word: "zone", transcription: "[zoun]", translation: "зона", image: "zone.jpg" },
                    { word: "blaze", transcription: "[bleɪz]", translation: "блеск", image: "blaze.jpg" },
                    { word: "child", transcription: "[tʃaɪld]", translation: "ребенок", image: "child.jpg" },
                    { word: "this", transcription: "[ðɪs]", translation: "это", image: "this.jpg" },
                    { word: "fish", transcription: "[fɪʃ]", translation: "рыба", image: "fish.jpg" }


                ],
            },

            {
                transcriptionButton: "[ɑː]", // Транскрипция
                correctExamples: [
                    { word: "car", transcription: "[kɑːr]", translation: "автомобиль", image: "car.jpg" },
                    { word: "star", transcription: "[stɑːr]", translation: "звезда", image: "star.jpg" },
                    { word: "cigar", transcription: "[sɪˈɡɑːr]", translation: "сигара", image: "cigar.jpg" }
                ],
                incorrectExamples: [
                    { word: "finger", transcription: "[fɪŋgə]", translation: "палец", image: "finger.jpg" },
                    { word: "driver", transcription: "[draɪvə]", translation: "водитель", image: "driver.jpg" },
                    { word: "flat", transcription: "[flæt]", translation: "квартира", image: "flat.jpg" },
                    { word: "map", transcription: "[mæp]", translation: "карта", image: "map.jpg" },
                    { word: "sport", transcription: "[spɔːt]", translation: "спорт", image: "sport.jpg" },
                    { word: "north", transcription: "[nɔːθ]", translation: "север", image: "north.jpg" }
                ]
            },

            {
                transcriptionButton: "[ə]", // Транскрипция

                correctExamples: [
                    { word: "sister", transcription: "[sɪstə]", translation: "сестра", image: "sister.jpg" },
                    { word: "finger", transcription: "[fɪŋgə]", translation: "палец", image: "finger.jpg" },
                    { word: "driver", transcription: "[draɪvə]", translation: "водитель", image: "driver.jpg" }
                ],
                incorrectExamples: [
                    { word: "car", transcription: "[kɑːr]", translation: "автомобиль", image: "car.jpg" },
                    { word: "star", transcription: "[stɑːr]", translation: "звезда", image: "star.jpg" },
                    { word: "cigar", transcription: "[sɪˈɡɑːr]", translation: "сигара", image: "cigar.jpg" },
                    { word: "legs", transcription: "[legz]", translation: "ноги", image: "legs.jpg" },
                    { word: "nest", transcription: "[nest]", translation: "гнездо", image: "nest.jpg" },
                    { word: "desk", transcription: "[desk]", translation: "доска", image: "desk.jpg" }
                ]
            },

            {
                transcriptionButton: "[ɔː]", // Транскрипция

                correctExamples: [
                    { word: "sport", transcription: "[spɔːt]", translation: "спорт", image: "sport.jpg" },
                    { word: "morning", transcription: "[mɔːnɪŋ]", translation: "утро", image: "morning.jpg" },
                    { word: "north", transcription: "[nɔːθ]", translation: "север", image: "north.jpg" }
                ],

                incorrectExamples: [
                    { word: "note", transcription: "[nəʊt]", translation: "нота", image: "note.jpg" },
                    { word: "nose", transcription: "[nəʊz]", translation: "нос", image: "nose.jpg" },
                    { word: "smoke", transcription: "[sməʊk]", translation: "дым", image: "smoke.jpg" },
                    { word: "dog", transcription: "[dɒg]", translation: "пес", image: "dog.jpg" },
                    { word: "pot", transcription: "[pɒt]", translation: "горшок", image: "pot.jpg" },
                    { word: "top", transcription: "[tɒp]", translation: "вершина", image: "top.jpg" }
                ]
            },

            {
                transcriptionButton: "[ɜ:]", // Транскрипция

                correctExamples: [
                    { word: "girl", transcription: "[ɡɜ:l]", translation: "девушка", image: "girl.jpg" },
                    { word: "bird", transcription: "[bɜ:d]", translation: "птица", image: "bird.jpg" },
                    { word: "skirt", transcription: "[skɜ:t]", translation: "платье", image: "skirt.jpg" }
                ],

                incorrectExamples: [
                    { word: "sport", transcription: "[spɔːt]", translation: "спорт", image: "sport.jpg" },
                    { word: "morning", transcription: "[mɔːnɪŋ]", translation: "утро", image: "morning.jpg" },
                    { word: "north", transcription: "[nɔːθ]", translation: "север", image: "north.jpg" },
                    { word: "sister", transcription: "[sɪstə]", translation: "сестра", image: "sister.jpg" },
                    { word: "finger", transcription: "[fɪŋgə]", translation: "палец", image: "finger.jpg" },
                    { word: "driver", transcription: "[draɪvə]", translation: "водитель", image: "driver.jpg" }

                ]
            },

            {
                transcriptionButton: "[ʊ]", // Транскрипция

                correctExamples: [
                    { word: "book", transcription: "[bʊk]", translation: "книга", image: "book.jpg" },
                    { word: "look", transcription: "[lʊk]", translation: "взгляд", image: "look.jpg" },
                    { word: "room", transcription: "[ruːm]", translation: "комната", image: "room.jpg" },
                ],

                incorrectExamples: [
                    { word: "mouth", transcription: "[maʊθ]", translation: "рот", image: "mouth.jpg" },
                    { word: "tube", transcription: "[tju:b]", translation: "труба", image: "tube.jpg" },
                    { word: "duty", transcription: "[dju:tɪ]", translation: "долг", image: "duty.jpg" },
                    { word: "music", transcription: "[mju:zik]", translation: "музыка", image: "music.jpg" },
                    { word: "mum", transcription: "[mʌm]", translation: "мама", image: "mum.jpg" },
                    { word: "bus", transcription: "[bʌs]", translation: "автобус", image: "bus.jpg" }

                ]
            },

            {
                transcriptionButton: "[uː]", // Транскрипция

                correctExamples: [
                    { word: "moon", transcription: "[muːn]", translation: "луна", image: "moon.jpg" },
                    { word: "spoon", transcription: "[spuːn]", translation: "ложка", image: "spoon.jpg" },
                    { word: "bamboo", transcription: "[bæmˈbuː]", translation: "бамбук", image: "bamboo.jpg" },
                ],

                incorrectExamples: [
                    { word: "quest", transcription: "[kwest]", translation: "поиск", image: "quest.jpg" },
                    { word: "queen", transcription: "[kwiːn]", translation: "королева", image: "queen.jpg" },
                    { word: "squirrel", transcription: "[skwɪrəl]", translation: "белка", image: "squirrel.jpg" },
                    { word: "gun", transcription: "[gʌn]", translation: "оружие", image: "gun.jpg" },
                    { word: "cute", transcription: "[kju:t]", translation: "милый", image: "cute.jpg" },
                    { word: "sun", transcription: "[sʌn]", translation: "солнце", image: "sun.jpg" },

                ]
            },

            {
                transcriptionButton: "[iː]", // Транскрипция

                correctExamples: [
                    { word: "green", transcription: "[gri:n]", translation: "зеленый", image: "green.jpg" },
                    { word: "cheese", transcription: "[tʃi:z]", translation: "сыр", image: "cheese.jpg" },
                    { word: "tree", transcription: "[tri:]", translation: "дерево", image: "tree.jpg" },
                    { word: "tea", transcription: "[ti:]", translation: "чай", image: "tea.jpg" },
                    { word: "sea", transcription: "[si:]", translation: "море", image: "sea.jpg" },
                    { word: "please", transcription: "[pli:z]", translation: "пожалуйста", image: "please.jpg" },
                    { word: "be", transcription: "[bi:]", translation: "быть", image: "be.jpg" },
                    { word: "leo", transcription: "[li:ou]", translation: "лев", image: "leo.jpg" },
                    { word: "me", transcription: "[mi:]", translation: "я", image: "me.jpg" },
                ],

                incorrectExamples: [
                    { word: "city", transcription: "[sɪtɪ]", translation: "город", image: "city.jpg" },
                    { word: "fantasy", transcription: "[fæntəsɪ]", translation: "фантазия", image: "fantasy.jpg" },
                    { word: "enemy", transcription: "[enəmɪ]", translation: "враг", image: "enemy.jpg" },
                    { word: "kid", transcription: "[kɪd]", translation: "ребенок", image: "kid.jpg" },
                    { word: "zip", transcription: "[zɪp]", translation: "застежка", image: "zip.jpg" },
                    { word: "pig", transcription: "[pɪg]", translation: "свинка", image: "pig.jpg" }

                ]
            },
            {
                transcriptionButton: "[aʊ]", // Транскрипция

                correctExamples: [

                    { word: "mouth", transcription: "[maʊθ]", translation: "рот", image: "mouth.jpg" },
                    { word: "cloud", transcription: "[klaʊd]", translation: "облако", image: "cloud.jpg" },
                    { word: "house", transcription: "[haʊz]", translation: "дом", image: "house.jpg" },
                    { word: "town", transcription: "[taʊn]", translation: "город", image: "town.jpg" },
                    { word: "crown", transcription: "[kraʊn]", translation: "корона", image: "crown.jpg" },
                    { word: "brown", transcription: "[braʊn]", translation: "коричневый", image: "brown.jpg" },
                ],

                incorrectExamples: [
                    { word: "bike", transcription: "[baɪk]", translation: "велосипед", image: "bike.jpg" },
                    { word: "five", transcription: "[faɪv]", translation: "5", image: "five.jpg" },
                    { word: "smile", transcription: "['smaɪl]", translation: "улыбка", image: "smile.jpg" },
                    { word: "my", transcription: "[maɪ]", translation: "мое", image: "my.jpg" },
                    { word: "fly", transcription: "[flaɪ]", translation: "муха", image: "fly.jpg" },
                    { word: "sky", transcription: "[skaɪ]", translation: "небо", image: "sky.jpg" }

                ]
            },

            {
                transcriptionButton: "[oʊ]", // Транскрипция

                correctExamples: [

                    { word: "snow", transcription: "[snoʊ]", translation: "снег", image: "snow.jpg" },
                    { word: "pillow", transcription: "[piloʊ]", translation: "подушка", image: "pillow.jpg" },
                    { word: "flow", transcription: "[floʊ]", translation: "поток", image: "flow.jpg" },
                    { word: "note", transcription: "[nəʊt]", translation: "нота", image: "note.jpg" },
                    { word: "nose", transcription: "[nəʊz]", translation: "нос", image: "nose.jpg" },
                    { word: "smoke", transcription: "[sməʊk]", translation: "дым", image: "smoke.jpg" },
                ],

                incorrectExamples: [
                    { word: "dog", transcription: "[dɒg]", translation: "пес", image: "dog.jpg" },
                    { word: "pot", transcription: "[pɒt]", translation: "горшок", image: "pot.jpg" },
                    { word: "top", transcription: "[tɒp]", translation: "вершина", image: "top.jpg" },
                    { word: "book", transcription: "[bʊk]", translation: "книга", image: "book.jpg" },
                    { word: "look", transcription: "[lʊk]", translation: "взгляд", image: "look.jpg" },
                    { word: "room", transcription: "[ruːm]", translation: "комната", image: "room.jpg" },
                    { word: "sport", transcription: "[spɔːt]", translation: "спорт", image: "sport.jpg" },
                    { word: "morning", transcription: "[mɔːnɪŋ]", translation: "утро", image: "morning.jpg" },
                    { word: "north", transcription: "[nɔːθ]", translation: "север", image: "north.jpg" },

                ]
            },

            {
                transcriptionButton: "[ɪə]", // Транскрипция

                correctExamples: [

                    { word: "ear", transcription: "[ɪə]", translation: "ухо", image: "ear.jpg" },
                    { word: "fear", transcription: "[fɪə]", translation: "страх", image: "fear.jpg" },
                    { word: "year", transcription: "[jɪə]", translation: "год", image: "year.jpg" },

                ],

                incorrectExamples: [
                    { word: "tea", transcription: "[ti:]", translation: "чай", image: "tea.jpg" },
                    { word: "sea", transcription: "[si:]", translation: "море", image: "sea.jpg" },
                    { word: "please", transcription: "[pli:z]", translation: "пожалуйста", image: "please.jpg" },
                    { word: "green", transcription: "[gri:n]", translation: "зеленый", image: "green.jpg" },
                    { word: "cheese", transcription: "[tʃi:z]", translation: "сыр", image: "cheese.jpg" },
                    { word: "tree", transcription: "[tri:]", translation: "дерево", image: "tree.jpg" },

                ]
            },

            {
                transcriptionButton: "[ʊə]", // Транскрипция

                correctExamples: [

                    { word: "cure", transcription: "[kjʊə]", translation: "лечение", image: "cure.jpg" },
                    { word: "pure", transcription: "[pjʊə]", translation: "беспримесный", image: "pure.jpg" },
                    { word: "sure", transcription: "[ʃʊə]", translation: "уверенный", image: "sure.jpg" },

                ],

                incorrectExamples: [
                    { word: "snow", transcription: "[snoʊ]", translation: "снег", image: "snow.jpg" },
                    { word: "pillow", transcription: "[piloʊ]", translation: "подушка", image: "pillow.jpg" },
                    { word: "flow", transcription: "[floʊ]", translation: "поток", image: "flow.jpg" },
                    { word: "book", transcription: "[bʊk]", translation: "книга", image: "book.jpg" },
                    { word: "look", transcription: "[lʊk]", translation: "взгляд", image: "look.jpg" },
                    { word: "room", transcription: "[ruːm]", translation: "комната", image: "room.jpg" },

                ]
            },

            {
                transcriptionButton: "[eə]", // Транскрипция

                correctExamples: [

                    { word: "air", transcription: "[eə]", translation: "воздух", image: "air.jpg" },
                    { word: "chair", transcription: "[tʃeə]", translation: "стул", image: "chair.jpg" },
                    { word: "hair", transcription: "[heə]", translation: "волосы", image: "hair.jpg" },

                ],

                incorrectExamples: [
                    { word: "tea", transcription: "[ti:]", translation: "чай", image: "tea.jpg" },
                    { word: "sea", transcription: "[si:]", translation: "море", image: "sea.jpg" },
                    { word: "please", transcription: "[pli:z]", translation: "пожалуйста", image: "please.jpg" },
                    { word: "moon", transcription: "[muːn]", translation: "луна", image: "moon.jpg" },
                    { word: "spoon", transcription: "[spuːn]", translation: "ложка", image: "spoon.jpg" },
                    { word: "bamboo", transcription: "[bæmˈbuː]", translation: "бамбук", image: "bamboo.jpg" },

                ]
            },



        ];


        // Глобальные переменные

        const maxTasks = 21; // Для примера 4 задания
        let shuffledSounds = [];
        let currentSoundIndex = 0;
        let selectedWords = [];
        let correctCount = 0;
        let wrongCount = 0;

        // Функция перемешивания звуков
        function shuffleSounds() {
            // Создаем массив уникальных звуков
            const uniqueSounds = sounds.filter((sound, index, self) =>
                index === self.findIndex(s => s.transcriptionButton === sound.transcriptionButton)
            );

            shuffledSounds = [...uniqueSounds];
            shuffleArray(shuffledSounds);
            shuffledSounds = shuffledSounds.slice(0, maxTasks);
            currentSoundIndex = 0;
        }

        // Исправленная функция перемешивания массива
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array; // Добавлен возврат массива
        }

        // Исправленная функция генерации теста
        function generateTest() {
            const currentSound = shuffledSounds[currentSoundIndex];

            // Исправлено создание правильных и неправильных примеров
            const correct = shuffleArray([...currentSound.correctExamples]).slice(0, 2);
            const incorrect = shuffleArray([...currentSound.incorrectExamples]).slice(0, 4);
            const examples = shuffleArray([...correct, ...incorrect]);

            const container = document.getElementById('testExamples');
            container.innerHTML = examples.map(example => `
                <div class="example-section">
                    <img src="${example.image}" class="example-image">
                    <button class="example-button" 
                            data-correct="${currentSound.correctExamples.some(e => e.word === example.word)}">
                        ${example.word}
                    </button>
                </div>
            `).join('');

            // Добавление обработчиков событий для кнопок
            document.querySelectorAll('.example-button').forEach(button => {
                button.addEventListener('click', () => selectWord(button));
            });

            document.getElementById('currentSoundSymbol').textContent = currentSound.transcriptionButton;
            document.getElementById('taskNumber').textContent = `Задание ${currentSoundIndex + 1}`;
        }

        // Исправленная функция подтверждения выбора
        function confirmSelection() {
            const currentSound = shuffledSounds[currentSoundIndex];
            const correctAnswers = selectedWords.filter(button =>
                button.getAttribute('data-correct') === 'true'
            );

            document.getElementById("testResult").style.display = "block";
            selectedWords.forEach(btn => btn.disabled = true);

            if (correctAnswers.length === 2) {
                correctCount++;
                document.getElementById("testResult").textContent = "Правильно!";
                document.getElementById("testResult").className = "result success";
            } else {
                document.getElementById("testResult").textContent = "Ошибка!";
                document.getElementById("testResult").className = "result error";
            }

            setTimeout(() => {
                document.getElementById("testResult").style.display = "none";
                selectedWords = [];

                if (currentSoundIndex < shuffledSounds.length - 1) {
                    currentSoundIndex++;
                    generateTest();
                } else {
                    showFinalResult();
                }
            }, 1000);
        }
        function selectWord(button) {
            if (selectedWords.includes(button)) {
                selectedWords = selectedWords.filter(b => b !== button);
                button.classList.remove("selected");
            } else {
                if (selectedWords.length < 2) {
                    selectedWords.push(button);
                    button.classList.add("selected");
                }
            }
            document.getElementById("confirmButton").disabled = selectedWords.length !== 2;
        }

        function confirmSelection() {
            const currentSound = shuffledSounds[currentSoundIndex];
            const correctAnswers = selectedWords.filter(button =>
                button.getAttribute('data-correct') === 'true'
            );
            const resultDiv = document.getElementById("testResult");
            let hadError = false;

            // Воспроизведение звука и обновление интерфейса
            if (correctAnswers.length === 2) {
                playSound("right.mp3");
                resultDiv.textContent = "Правильно!";
                resultDiv.className = "result success";
                if (!hadError) correctCount++;
            } else {
                playSound("wrong.mp3");
                resultDiv.textContent = "Что-то не то!";
                resultDiv.className = "result error";
                hadError = true;
                wrongCount++;
            }

            resultDiv.style.display = "block";
            selectedWords.forEach(btn => btn.disabled = true);

            setTimeout(() => {
                resultDiv.style.display = "none";
                selectedWords.forEach(btn => {
                    btn.classList.remove("selected");
                    btn.disabled = false;
                });
                selectedWords = [];

                if (currentSoundIndex < shuffledSounds.length - 1) {
                    currentSoundIndex++;
                    generateTest();
                } else {
                    showFinalResult();
                }
            }, 1000);
        }

        // Добавьте эту функцию для воспроизведения звуков
        function playSound(soundFile) {
            const audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.src = soundFile;
            audioPlayer.play().catch(error => {
                console.log("Автовоспроизведение заблокировано:", error);
            });
        }

        // Функция перехода к следующему тесту
        function nextTest() {
            if (currentSoundIndex >= maxTasks) {
                showFinalResult();
                return;
            }

            const currentSound = shuffledSounds[currentSoundIndex];
            currentIndex = sounds.findIndex(sound =>
                sound.transcriptionButton === currentSound.transcriptionButton
            );

            document.getElementById("taskNumber").textContent = `Задание ${currentSoundIndex + 1}`;
            generateTest();
            currentSoundIndex++;
        }

        function showFinalResult() {
            document.getElementById("testContainer").style.display = "none";
            document.getElementById("finalResult").textContent =
                `Результат: ${correctCount}/${maxTasks}`;
            document.getElementById("finalResult").style.display = "block";
        }

        window.onload = () => {
            shuffleSounds();
            generateTest();
        };


        document.getElementById("confirmButton").onclick = confirmSelection;
    </script>
</body>

</html>
